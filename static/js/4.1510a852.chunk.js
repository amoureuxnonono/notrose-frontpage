/*! For license information please see 4.1510a852.chunk.js.LICENSE.txt */
(this.webpackJsonpgrampuscommunity=this.webpackJsonpgrampuscommunity||[]).push([[4],{1059:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return c})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return i})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return s})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return f})),n.d(t,"__createBinding",(function(){return d})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return b})),n.d(t,"__read",(function(){return m})),n.d(t,"__spread",(function(){return j})),n.d(t,"__spreadArrays",(function(){return h})),n.d(t,"__spreadArray",(function(){return x})),n.d(t,"__await",(function(){return O})),n.d(t,"__asyncGenerator",(function(){return v})),n.d(t,"__asyncDelegator",(function(){return g})),n.d(t,"__asyncValues",(function(){return y})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return S})),n.d(t,"__importDefault",(function(){return k})),n.d(t,"__classPrivateFieldGet",(function(){return P})),n.d(t,"__classPrivateFieldSet",(function(){return T}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(e);c<r.length;c++)t.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(n[r[c]]=e[r[c]])}return n}function i(e,t,n,r){var c,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(c=e[i])&&(a=(o<3?c(a):o>3?c(t,n,a):c(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(c,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function i(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,c,o,a={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(c=2&o[0]?r.return:o[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,o[1])).done)return c;switch(r=0,c&&(o=[2&o[0],c.value]),o[0]){case 0:case 1:c=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(c=(c=a.trys).length>0&&c[c.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!c||o[1]>c[0]&&o[1]<c[3])){a.label=o[1];break}if(6===o[0]&&a.label<c[1]){a.label=c[1],c=o;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(o);break}c[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(i){o=[6,i],r=0}finally{n=c=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var d=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function p(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||d(t,e,n)}function b(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,c,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(i){c={error:i}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return a}function j(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function h(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),c=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,i=o.length;a<i;a++,c++)r[c]=o[a];return r}function x(e,t){for(var n=0,r=t.length,c=e.length;n<r;n++,c++)e[c]=t[n];return e}function O(e){return this instanceof O?(this.v=e,this):new O(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,c=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){c[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||i(e,t)}))})}function i(e,t){try{(n=c[e](t)).value instanceof O?Promise.resolve(n.value.v).then(u,s):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){i("next",e)}function s(e){i("throw",e)}function l(e,t){e(t),o.shift(),o.length&&i(o[0][0],o[0][1])}}function g(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,c){t[r]=e[r]?function(t){return(n=!n)?{value:O(e[r](t)),done:"return"===r}:c?c(t):t}:c}}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=b(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,c){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,c,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var _=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return _(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function T(e,t,n,r,c){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!c)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!c:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?c.call(e,n):c?c.value=n:t.set(e,n),n}},1272:function(e,t,n){"use strict";(function(e){var r=n(5),c=n.n(r),o=n(19),a=n(10),i=n(1),u=n(3),s=n(8),l=n(130),f=n(1273),d=n(21),p=n(206),b=n(92),m=n(1274),j=n(0);t.a=function(t){var n=t.getMeta,r=t.onDismiss,h=t.onSuccess,x=Object(i.useState)(!1),O=Object(a.a)(x,2),v=O[0],g=O[1],y=Object(i.useState)({step:"step 0",message:"waiting for commit",success:!0}),w=Object(a.a)(y,2),_=w[0],S=w[1],k=Object(d.c)().t,P=n(),T=Object(f.a)(),C=Object(b.a)();function I(e,t){e?function(){S({success:!0,step:"step 2",message:"commit nft content"});var e=function(){var e={url:"",file:void 0};P.mediaType===l.MediaType.Image?(e.url="".concat(l.ogPaths.basePath,"/").concat(l.ogPaths.imagePath,"/").concat(Object(s.getENVChainId)(),"/"),e.file=P.file):P.mediaType===l.MediaType.Video&&(e.url="".concat(l.ogPaths.basePath,"/").concat(l.ogPaths.videoPath,"/").concat(Object(s.getENVChainId)(),"/"),e.file=P.file);return e}();Object(p.d)("".concat(e.url).concat(T),e.file,M)}():(S({success:!1,step:"step 1",message:t||"commit nft meta failed"}),g(!1))}function M(e,t){e?D():(S({success:!1,step:"step 2",message:t||"commit nft content failed"}),g(!1))}var E=Object(m.a)(T,(function(){g(!1),S({success:!0,step:"end",message:"success"}),h&&h(),r()})),V=Object(a.a)(E,1)[0],D=function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S({success:!0,step:"step 3",message:"mint nft token"}),e.next=4,V();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),g(!1),S({success:!1,step:"step 3",message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(u.Modal,{title:k("Commit"),onDismiss:r,children:[Object(j.jsxs)(u.Flex,{maxWidth:"420px",minWidth:"420px",alignItems:"center",flexDirection:"column",justifyContent:"space-between",mb:"8px",children:[Object(j.jsx)(u.Text,{bold:!0,color:"textSubtle",fontSize:"18px",pr:"3px",children:k(_.step)}),_.success?Object(j.jsx)(u.Text,{color:"textSubtle",fontSize:"14px",pr:"3px",mt:"10px",children:k(_.message)}):Object(j.jsx)(u.Text,{bold:!0,color:"failure",fontSize:"14px",pr:"3px",mt:"10px",children:k(_.message)})]}),Object(j.jsx)(u.Button,{isLoading:v,onClick:function(){g(!0);var t={name:P.name,desc:P.desc,mediaType:P.mediaType,imageurl:P.imageurl&&P.imageurl.length>0?T:"",mkvurl:P.mkvurl&&P.mkvurl.length>0?T:"",mp4url:P.mp4url&&P.mp4url.length>0?T:""};S({success:!0,step:"step 1",message:"commit nft meta"}),Object(p.c)("".concat(C.baseurl).concat(T),e.from(JSON.stringify(t)),I)},mt:"24px",children:k(v?"Committing":"Commit")})]})}}).call(this,n(33).Buffer)},1273:function(e,t,n){"use strict";function r(e){return Math.pow(2,e)}function c(e,t){return Math.floor(Math.random()*(t-e+1))+e}function o(){return c(0,r(4)-1)}function a(){return c(0,r(8)-1)}function i(){return c(0,r(14)-1)}function u(){return c(0,r(16)-1)}function s(e,t,n,r,c,o){return"".concat(e.toString(16),"-").concat(t.toString(16),"-").concat(n.toString(16),"-").concat(r.toString(16)).concat(c.toString(16),"-").concat(o.toString(16))}function l(){var e=(new Date).getTime(),t=i(),n=1099511627776*(1|a())+u(),r=o(),c=0;e!==c?(e<c&&t++,c=e,r=o()):Math.random()<1/4&&r<9984?r+=1+o():t++;var l=function(e){var t=e-Date.UTC(1582,9,15),n=t/4294967296*1e4&268435455;return{low:1e4*(268435455&t)%4294967296,mid:65535&n,hi:n>>>16,timestamp:t}}(c),f=l.low+r,d=4095&l.hi|4096,p=16383&t,b=p>>>8|128,m=255&p;return s(f,l.mid,d,b,m,n)}n.d(t,"a",(function(){return l}))},1274:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(5),c=n.n(r),o=n(19),a=n(1),i=n(56),u=n(23),s=n(43),l=n(49),f=n(32);function d(e,t){var n=Object(u.a)().account,r=Object(i.b)(),d=Object(l.i)();return[Object(a.useCallback)(Object(o.a)(c.a.mark((function a(){var i;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(d){a.next=3;break}return console.error("ordinary gallery contract is null"),a.abrupt("return");case 3:return a.next=5,d.estimateGas.mint(e);case 5:i=a.sent,d.mint(e,{gasLimit:Object(f.b)(i)}).then((function(){var e=setInterval(Object(o.a)(c.a.mark((function o(){return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:r(Object(s.n)(n)).then((function(){clearInterval(e),t()}));case 1:case"end":return c.stop()}}),o)}))),6e3)})).catch((function(e){throw console.error("Failed to mint nft",e),e}));case 7:case"end":return a.stop()}}),a)}))),[d,r,n,t,e])]}},1279:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),o=n(23),a=n(62),i=n(10),u=n(7),s=n(4),l=n(3),f=n(109),d=n(21),p=n(326),b=n(87),m=n(327),j=n(1059),h=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function x(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=h.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var O=[".DS_Store","Thumbs.db"];function v(e){return Object(j.__awaiter)(this,void 0,void 0,(function(){return Object(j.__generator)(this,(function(t){return[2,(n=e,n.dataTransfer&&e.dataTransfer?y(e.dataTransfer,e.type):g(e))];var n}))}))}function g(e){return(null!==e.target&&e.target.files?_(e.target.files):[]).map((function(e){return x(e)}))}function y(e,t){return Object(j.__awaiter)(this,void 0,void 0,(function(){var n;return Object(j.__generator)(this,(function(r){switch(r.label){case 0:return e.items?(n=_(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(S))]):[3,2];case 1:return[2,w(k(r.sent()))];case 2:return[2,w(_(e.files).map((function(e){return x(e)})))]}}))}))}function w(e){return e.filter((function(e){return-1===O.indexOf(e.name)}))}function _(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function S(e){if("function"!==typeof e.webkitGetAsEntry)return P(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?C(t):P(e)}function k(e){return e.reduce((function(e,t){return Object(j.__spread)(e,Array.isArray(t)?k(t):[t])}),[])}function P(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=x(t);return Promise.resolve(n)}function T(e){return Object(j.__awaiter)(this,void 0,void 0,(function(){return Object(j.__generator)(this,(function(t){return[2,e.isDirectory?C(e):I(e)]}))}))}function C(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function c(){var o=this;t.readEntries((function(t){return Object(j.__awaiter)(o,void 0,void 0,(function(){var o,a,i;return Object(j.__generator)(this,(function(u){switch(u.label){case 0:if(t.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return o=u.sent(),e(o),[3,4];case 3:return a=u.sent(),n(a),[3,4];case 4:return[3,6];case 5:i=Promise.all(t.map(T)),r.push(i),c(),u.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function I(e){return Object(j.__awaiter)(this,void 0,void 0,(function(){return Object(j.__generator)(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=x(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var M,E,V,D=n(8),F=n(130),R=n(124),z=n(237),B=n(2),A=n(34),L=n(0),N=Object(s.default)(l.Flex)(M||(M=Object(u.a)(["\n  cursor: pointer;\n"]))),U=Object(s.default)(l.Flex)(E||(E=Object(u.a)(["\n  button {\n    align-items: center;\n    justify-content: flex-start;\n  }\n"]))),G=Object(s.default)(l.Flex)(V||(V=Object(u.a)(["\n  overflow: hidden;\n  height: ",";\n  padding-bottom: ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.isExpanded?"100%":"0px"}),(function(e){return e.isExpanded?"16px":"0px"}),(function(e){return e.theme.colors.inputSecondary})),Q=function(e){var t=e.header,n=e.children,c=Object(A.a)(e,["header","children"]),o=Object(d.c)().t,a=Object(r.useState)(!0),u=Object(i.a)(a,2),s=u[0],f=u[1];return Object(L.jsxs)(N,Object(B.a)(Object(B.a)({},c),{},{flexDirection:"column",children:[Object(L.jsxs)(l.Flex,{justifyContent:"space-between",alignItems:"center",pb:"5px",children:[t,Object(L.jsx)(U,{children:Object(L.jsx)(l.ExpandableLabel,{expanded:s,onClick:function(){return f(!s)},children:o(s?"Hide":"Details")})})]}),Object(L.jsx)(G,{isExpanded:s,flexDirection:"column",children:n})]}))},W=n(51),H=n(5),J=n.n(H),K=n(19),Y=n(390),q=n(92),X=n(39),Z=n(30),$=n.n(Z),ee=n(1040),te=n(56),ne=n(43),re=n(32),ce=n(49),oe=n(55);var ae,ie,ue,se,le,fe,de,pe,be,me,je,he,xe,Oe,ve,ge,ye=n(167),we=n(1272),_e=s.default.div(ae||(ae=Object(u.a)(["\n  padding-top: 16px;\n"]))),Se=function(e){var t=e.account,n=e.getMeta,c=e.onCommitSuccess,u=e.onApproveSuccess,s=Object(d.c)().t,f=Object(r.useState)(!1),p=Object(i.a)(f,2),b=p[0],m=p[1],j=Object(q.a)().payToken,h=Object(a.p)(),x=h.userallowance,O=h.userbalance,v=h.createFee,g=Object(W.b)(x),y=Object(W.b)(O),w=Object(W.b)(v),_=t&&x&&g>=w,S=t&&O&&y>=w,k=Object(R.a)(),P=k.toastSuccess,T=k.toastError,C=function(e){var t=Object(o.a)().account,n=Object(te.b)(),c=Object(q.a)(),a=c.address,u=Object(ce.l)(c.payToken.address),s=Object(r.useMemo)((function(){return[t,a]}),[t,a]),l=Object(oe.c)(u,"allowance",s).result,f=Object(r.useMemo)((function(){return[l?new $.a(l.toString()):void 0]}),[l]),d=Object(i.a)(f,1)[0],p=Object(r.useMemo)((function(){return u&&d?d.gt(0)?X.a.APPROVED:X.a.NOT_APPROVED:X.a.UNKNOWN}),[u,d]),b=Object(r.useCallback)(Object(K.a)(J.a.mark((function r(){var c;return J.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(p===X.a.NOT_APPROVED){r.next=3;break}return console.error("approve was called unnecessarily"),r.abrupt("return");case 3:if(u){r.next=6;break}return console.error("pay tonken contract is null"),r.abrupt("return");case 6:if(a){r.next=9;break}return console.error("no spender"),r.abrupt("return");case 9:return r.next=11,u.estimateGas.approve(a,ee.a);case 11:c=r.sent,u.approve(a,ee.a,{gasLimit:Object(re.b)(c)}).then((function(){var r=setInterval(Object(K.a)(J.a.mark((function c(){return J.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n(Object(ne.l)(t)).then((function(){clearInterval(r),e()}));case 1:case"end":return c.stop()}}),c)}))),6e3)})).catch((function(e){throw console.error("Failed to approve token",e),e}));case 13:case"end":return r.stop()}}),r)}))),[p,u,a,n,t,e]);return[p,b]}((function(){P("".concat(s("Contract Enabled")),"".concat(s("You can now create your nft!"))),m(!1),u()})),I=Object(i.a)(C,2),M=I[0],E=I[1],V=Object(r.useCallback)(Object(K.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,E();case 4:M===X.a.UNKNOWN?(T("".concat(s("Error")),"".concat(s("Please try again. Confirm the transaction and make sure you are paying enough gas!"))),m(!1)):M===X.a.APPROVED&&(P("".concat(s("Contract Enabled")),"".concat(s("You can now create your nft!"))),m(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[E,M,P,T,s]),D=Object(l.useModal)(Object(L.jsx)(we.a,{getMeta:n,onSuccess:c})),F=Object(i.a)(D,1)[0],z=function(){var e=function(e){if(!e.name||0===e.name.length)return{success:!1,error:s("name is necessary")};if(!e.desc||0===e.desc.length)return{success:!1,error:s("description is necessary")};if(e.mediaType===Y.a.Image){if(!e.imageurl||0===e.imageurl.length)return{success:!1,error:s("image is necessary")}}else if(e.mediaType===Y.a.Video&&(!e.mkvurl||0===e.mkvurl.length)&&(!e.mp4url||0===e.mp4url.length))return{success:!1,error:s("video is necessary")};return{success:!0}}(n());e.success?F():T("".concat(s("Error")),"".concat(s(e.error)))};return Object(L.jsxs)(_e,{children:[!S&&Object(L.jsxs)(l.Flex,{justifyContent:"space-between",alignItems:"center",mt:"10px",mb:"15px",children:[Object(L.jsx)(l.Text,{bold:!0,textTransform:"uppercase",color:"failure",fontSize:"12px",pr:"3px",children:s("insufficientBalance",{name:j.symbol})}),Object(L.jsxs)(l.LinkExternal,{href:"/#/swap",style:{alignSelf:"center"},ml:"10px",children:[s("Buy")," ",j.symbol]})]}),t?_?Object(L.jsx)(l.Button,{mt:"8px",width:"100%",onClick:z,children:s("Create")}):Object(L.jsx)(l.Button,{mt:"8px",width:"100%",disabled:b,onClick:V,children:s("Enable")}):Object(L.jsx)(ye.a,{mt:"8px",width:"100%"})]})},ke=void 0,Pe=Object(s.default)(l.Flex)(ie||(ie=Object(u.a)(["\n  margin-top: 2px;\n  width: 500px;\n  max-width:500px;\n\n  "," {\n    flex: 1;\n    margin-top: 0px;\n  }\n\n  "," {\n    flex: 2;\n  }\n  "])),(function(e){return e.theme.mediaQueries.md}),(function(e){return e.theme.mediaQueries.xl})),Te=s.default.input(ue||(ue=Object(u.a)(["\n  width: 420px;  \n  position: relative;\n  display: flex;\n  padding: 10px;\n  align-items: center;\n  white-space: nowrap;\n  background: none;\n  border: none;\n  outline: none;\n  border-radius: 12px;\n  color: ",";\n  border-style: solid;\n  border: 1px solid ",";\n  -webkit-appearance: none;\n\n  font-size: 14px;\n\n  ::placeholder {\n    color: ",";\n  }\n  transition: border 100ms;\n  :focus {\n    outline: none;\n  }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.textDisabled})),Ce=s.default.textarea(se||(se=Object(u.a)(["\n  width: 420px;  \n  max-width:420px;\n  min-width:420px;\n  min-height:120px;\n  height: 120px;  \n  position: relative;\n  display: flex;\n  padding: 10px;\n  align-items: center;\n  background: none;\n  border: none;\n  outline: none;\n  border-radius: 12px;\n  color: ",";\n  border-style: solid;\n  border: 1px solid ",";\n  -webkit-appearance: none;\n\n  font-size: 14px;\n\n  ::placeholder {\n    color: ",";\n  }\n  transition: border 100ms;\n  :focus {\n    outline: none;\n  }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.textDisabled})),Ie=Object(s.default)(l.CardBody)(le||(le=Object(u.a)(["\n  div:first-child {\n    margin-top: 0px;\n  }\n"]))),Me=Object(s.default)(l.Card)(fe||(fe=Object(u.a)(["\n  max-width: 500px;\n  margin: 0 8px 10px;\n  display: flex;\n  flex-direction: column;\n  align-self: baseline;\n  position: relative;\n  box-shadow: 0px 1px 4px rgba(25, 19, 38, 0.15);\n\n  "," {\n    margin: 0 12px 10px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Ee=s.default.img(de||(de=Object(u.a)(["\n  width:380px;\n  height:380px;\n  border-radius: 20px;\n  border-style: solid;\n  border: 1px solid ",";\n"])),(function(e){return e.theme.colors.primary})),Ve=s.default.video(pe||(pe=Object(u.a)(["\n  width:380px;\n  height:380px;\n  border-radius: 20px;\n  border-style: solid;\n  border: 1px solid ",";\n"])),(function(e){return e.theme.colors.primary})),De=function(e){var t=e.og,n=Object(d.c)().t,c=Object(o.a)().account,a=t.createFee,u=t.payToken,s=Object(r.useRef)(null),f=Object(r.useRef)(null),p=Object(r.useState)(F.MediaType.Image),b=Object(i.a)(p,2),m=b[0],j=b[1],h=Object(r.useState)(null),x=Object(i.a)(h,2),O=x[0],g=x[1],y=Object(r.useState)({mkvurl:"",mp4url:""}),w=Object(i.a)(y,2),_=w[0],S=w[1],k=Object(r.useState)(""),P=Object(i.a)(k,2),T=P[0],C=P[1],I=Object(r.useState)(""),M=Object(i.a)(I,2),E=M[0],V=M[1],B=Object(r.useState)(null),A=Object(i.a)(B,2),N=A[0],U=A[1],G=Object(R.a)().toastError,H=function(e){j(e.target.value)};var J=Object(r.useState)(0),K=Object(i.a)(J,2),Y=K[0],q=K[1];return Object(L.jsx)(Pe,{children:Object(L.jsx)(Me,{children:Object(L.jsxs)(Ie,{children:[Object(L.jsx)(Q,{header:Object(L.jsxs)(l.Flex,{justifyContent:"space-between",alignItems:"center",children:[Object(L.jsx)(l.Radio,{scale:"sm",name:F.MediaType.Image,value:"Image",checked:m===F.MediaType.Image,onChange:H}),Object(L.jsx)(l.Text,{ml:"5px",mr:"36px",fontSize:"16px",fontWeight:"Bold",children:n("Image")}),Object(L.jsx)(l.Radio,{scale:"sm",name:F.MediaType.Video,value:"Video",checked:m===F.MediaType.Video,onChange:H}),Object(L.jsx)(l.Text,{ml:"5px",fontSize:"16px",fontWeight:"Bold",children:n("Video")})]}),mt:"10px",children:Object(L.jsxs)(l.Flex,{justifyContent:"space-between",alignItems:"center",children:[Object(L.jsx)(l.IconButton,{scale:"sm",onClick:function(){m===F.MediaType.Image?(s.current.accept="image/*",s.current.click()):m===F.MediaType.Video&&(f.current.accept="video/mp4, video/x-matroska",f.current.click())},children:Object(L.jsx)(l.FolderOpen,{})}),Object(L.jsxs)(l.Flex,{flexDirection:"column",children:[m===F.MediaType.Image?Object(L.jsx)(Ee,{src:O}):Object(L.jsxs)(Ve,{src:_.mkvurl,autoPlay:!0,controls:!0,loop:!0,children:[Object(L.jsx)("source",{src:_.mkvurl,type:"video/webm"}),Object(L.jsx)("source",{src:_.mp4url,type:"video/mp4"})]}),Object(L.jsx)("input",{onChange:function(e){v(e).then((function(t){var r=t;if(r.length>0){var c=r[0];if(c.size>F.MaxImageSize)G("".concat(n("Error")),"".concat(n("Exceed Max Image Size Limit, Max Image Size is ".concat(F.MaxImageSizeString))));else{U(e.target.files[0]);var o=(window.URL||window.webkitURL).createObjectURL(c);g(o)}}}))}.bind(ke),type:"file",id:"file",ref:s,style:{display:"none"}}),Object(L.jsx)("input",{onChange:function(e){v(e).then((function(t){var r=t;if(r.length>0){var c=r[0];if(c.size>F.MaxVideoSize)G("".concat(n("Error")),"".concat(n("Exceed Max Video Size Limit, Max Video Size is ".concat(F.MaxVideoSizeString))));else{var o=(window.URL||window.webkitURL).createObjectURL(c),a={mkvurl:"",mp4url:""};c.type===D.SupportVideoType.mkv?(a.mkvurl=o,S(a),U(e.target.files[0])):c.type===D.SupportVideoType.mkv?(a.mp4url=o,S(a),U(e.target.files[0])):G("".concat(n("Error")),"".concat(n("Unsupported Video Type")))}}}))}.bind(ke),type:"file",id:"file",ref:f,style:{display:"none"}})]})]})}),Object(L.jsx)(z.a,{caption:n("Name"),isNecessary:!0,mt:"10px",children:Object(L.jsx)(Te,{value:T,placeholder:n(""),onChange:function(e){C(e.target.value)},type:"text",maxLength:50})}),Object(L.jsx)(z.a,{caption:n("Description"),isNecessary:!0,mt:"10px",children:Object(L.jsx)(Ce,{value:E,onChange:function(e){V(e.target.value)},placeholder:n("")})}),Object(L.jsx)(z.a,{caption:n("Create Fee"),isNecessary:!1,mt:"10px",children:Object(L.jsx)(l.Text,{fontSize:"14px",ml:"12px",color:"textSubtle",children:"".concat(Object(W.b)(a,u.decimals)," ").concat(u.symbol)})}),Object(L.jsx)(Se,{version:Y,account:c,getMeta:function(){var e={mediaType:m,name:T,desc:E,mp4url:"",mkvurl:"",imageurl:"",file:N};return m===F.MediaType.Image?e.imageurl=O:m===F.MediaType.Video&&(e.mkvurl=_.mkvurl,e.mp4url=_.mp4url),e},onApproveSuccess:function(){q(Y+1)},onCommitSuccess:function(){g(""),S({mkvurl:"",mp4url:""}),C(""),V(""),U(null)}})]})})})},Fe=function(e){var t=e.showView,n=e.setShowView,r=Object(d.c)().t;return Object(L.jsx)(l.Flex,{alignItems:"center",justifyContent:"center",mb:"10px",children:Object(L.jsx)(l.Flex,{alignItems:"center",flexDirection:["column",null,"row",null],children:Object(L.jsxs)(l.ButtonMenu,{activeIndex:t?0:1,onItemClick:function(e){return n(0===e)},scale:"sm",variant:"subtle",children:[Object(L.jsx)(l.ButtonMenuItem,{children:r("View")}),Object(L.jsx)(l.ButtonMenuItem,{children:r("Create")})]})})})},Re=s.default.div(be||(be=Object(u.a)(["\n  display: grid;\n  grid-gap: 32px;\n  grid-template-columns: 1fr;\n  padding-bottom: 24px;\n  padding-top: 24px;\n\n  "," {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  "," {\n    grid-template-columns: repeat(3, 1fr);\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.md})),ze=n(150),Be=s.default.div(me||(me=Object(u.a)(["\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n"]))),Ae=n(267),Le=n(268),Ne=Object(s.default)(Be)(je||(je=Object(u.a)(["\n  min-height: 28px;\n"]))),Ue=s.default.div(he||(he=Object(u.a)(["\n  background-color: ",";\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n  padding-bottom: 100%;\n"])),(function(e){return e.theme.colors.cardBorder})),Ge=Object(s.default)(l.Button).attrs({variant:"text"})(xe||(xe=Object(u.a)(["\n  height: auto;\n  padding: 16px 24px;\n\n  &:hover:not(:disabled):not(:active) {\n    background-color: transparent;\n  }\n\n  &:focus:not(:active) {\n    box-shadow: none;\n  }\n"]))),Qe=s.default.div(Oe||(Oe=Object(u.a)(["\n  padding: 24px;\n"]))),We=function(e){var t,n,c=e.nftid,o=Object(q.a)(),u=Object(a.k)(o.address,c.toString()),s=Object(r.useState)(!1),f=Object(i.a)(s,2),p=f[0],b=f[1],m=Object(r.useState)(!u||!u.meta&&!u.loading),j=Object(i.a)(m,2),h=j[0],x=j[1],O=Object(te.b)();Object(r.useEffect)((function(){u&&(u.meta||u.loading)||O(Object(ne.i)(o.address,c,null===u||void 0===u?void 0:u.uri)).then((function(){x(!1)}))}),[O,u,o,c,x]);var v=Object(d.c)().t,g=l.ChevronUpIcon,y=function(){var e=Object(K.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!p);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(L.jsxs)(l.Card,{isActive:!0,children:[h?Object(L.jsx)(ze.a,{}):Object(L.jsx)(Ue,{onClick:function(){Le.a.push("/nftforsell/".concat(o.address,"/").concat(c))},children:Object(L.jsx)(Ae.a,{meta:null===u||void 0===u?void 0:u.meta})}),Object(L.jsx)(l.CardBody,{children:Object(L.jsx)(Ne,{children:Object(L.jsx)(l.Heading,{children:null===u||void 0===u||null===(t=u.meta)||void 0===t?void 0:t.name})})}),Object(L.jsxs)(l.CardFooter,{p:"0",children:[Object(L.jsx)(Ge,{width:"100%",endIcon:Object(L.jsx)(g,{width:"24px",color:"primary"}),onClick:y,children:v("Details")}),p&&Object(L.jsx)(Qe,{children:Object(L.jsx)(l.Text,{as:"p",color:"textSubtle",style:{textAlign:"center"},children:null===u||void 0===u||null===(n=u.meta)||void 0===n?void 0:n.desc})})]})]})},He=c.a.memo(We,(function(e,t){return e.nftid===t.nftid})),Je=s.default.div(ve||(ve=Object(u.a)(["\n  border-bottom: 2px solid ",";\n  margin-bottom: 12px;\n  padding-bottom: 22px;\n"])),(function(e){return e.theme.colors.textSubtle})),Ke=s.default.div(ge||(ge=Object(u.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n  justify-content: center;\n  flex-direction: column;\n  margin-bottom: 20px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 16px 20px;\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Ye=function(){var e=Object(d.c)().t,t=Object(a.p)(),n=Object(p.a)(!0,"grampus_og_view"),c=Object(i.a)(n,2),o=c[0],u=c[1],s=Object(r.useMemo)((function(){return t.usernfts||[]}),[t]),j=Object(r.useRef)(null),h=Object(r.useState)(12),x=Object(i.a)(h,2),O=x[0],v=x[1],g=Object(r.useState)(!1),y=Object(i.a)(g,2),w=y[0],_=y[1],S=Object(r.useMemo)((function(){var e;return(e=s,Object(f.orderBy)(e,(function(e){return e}),"desc")).slice(0,O)}),[s,O]);Object(r.useEffect)((function(){w||(new IntersectionObserver((function(e){Object(i.a)(e,1)[0].isIntersecting&&v((function(e){return e+12}))}),{rootMargin:"0px",threshold:1}).observe(j.current),_(!0))}),[S,w]);var k=function(){alert("success!")};return Object(L.jsxs)(b.a,{children:[Object(L.jsx)(Je,{children:Object(L.jsx)(l.Heading,{as:"h1",scale:"xxl",color:"secondary",mb:"24px",children:e("Ordinary Gallery")})}),Object(L.jsx)(Ke,{children:Object(L.jsx)(Fe,{showView:o,setShowView:u})}),Object(L.jsx)("div",{children:o?Object(L.jsx)(Re,{children:S.map((function(e){return Object(L.jsx)("div",{children:Object(L.jsx)(He,{nftid:e,refresh:k})},e)}))}):Object(L.jsx)(m.a,{children:Object(L.jsx)(De,{og:t})})}),Object(L.jsx)("div",{ref:j})]})},qe=function(){var e=Object(o.a)().account;return Object(a.e)(e),Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(Ye,{})})};t.default=function(){return Object(L.jsx)(qe,{})}}}]);
//# sourceMappingURL=4.1510a852.chunk.js.map